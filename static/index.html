<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>英語對話AI教師</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- 側邊欄 -->
        <div class="sidebar">
            <h2>設置</h2>

            <h3>使用方法</h3>
            <div class="instructions">
                <ol>
                    <li>點擊「開始錄音」按鈕說話</li>
                    <li>錄音完成後會自動轉錄並發送</li>
                    <li>可以使用「檢查發音」功能評估你的發音</li>
                    <li>使用「重置對話」開始新的對話</li>
                </ol>
            </div>

            <hr>

            <button id="reset-button" class="btn primary-btn">重置對話</button>
        </div>

        <!-- 主要內容區 -->
        <div class="main-content">
            <!-- 聊天區域 -->
            <div class="chat-area">
                <h2>對話區域</h2>
                <div id="chat-container" class="chat-container"></div>

                <hr>

                <div class="input-area">
                    <div id="transcript-container" style="display: none;">
                        <label for="transcript-editor">編輯或確認轉錄文本:</label>
                        <textarea id="transcript-editor" rows="4"></textarea>
                    </div>
                    <div id="realtime-response" class="realtime-response"></div>
                </div>
            </div>

            <!-- 控制面板 -->
            <div class="control-panel">
                <h2>控制面板</h2>

                <div class="recorder-container">
                    <button id="record-button" class="btn record-btn">
                        <i class="fas fa-microphone"></i> 開始錄音
                    </button>
                    <p id="recording-status"></p>
                </div>

                <div id="audio-player-container" style="display: none;">
                    <audio id="audio-player" controls></audio>
                </div>

                <div class="control-buttons">
                    <!-- 隱藏未完成功能按鈕 -->
                    <div class="button-row" style="display: none;">
                        <button id="play-button" class="btn secondary-btn" disabled>播放錄音</button>
                        <button id="pronunciation-button" class="btn secondary-btn" disabled>檢查發音</button>
                    </div>
                    
                    <!-- 場景選擇下拉選單 -->
                    <div class="scenario-selector">
                        <label for="scenario-select"><i class="fas fa-theater-masks scenario-icon"></i>選擇對話場景:</label>
                        <select id="scenario-select" class="form-control">
                            <option value="general">一般對話</option>
                            <option value="restaurant">餐廳點餐</option>
                            <option value="shopping">購物情境</option>
                            <option value="airport_customs">機場海關</option>
                            <option value="hotel_checkin">旅館入住</option>
                            <option value="doctor_visit">看醫生</option>
                            <option value="job_interview">工作面試</option>
                            <option value="public_transport">公共交通</option>
                        </select>
                        <div class="scenario-hint">選擇一個情境來練習特定場合的英語對話</div>
                    </div>
                    
                    <!-- 語音選擇下拉選單 -->
                    <div class="scenario-selector voice-selector">
                        <label for="voice-select"><i class="fas fa-microphone-alt scenario-icon"></i>選擇語音:</label>
                        <select id="voice-select" class="form-control">
                            <option value="af_heart.pt">標準美式女性 (默認)</option>
                            <option value="am_adam.pt">帥氣美式男性</option>
                            <option value="am_michael.pt">標準美式男性</option>
                            <option value="bf_lily.pt">標準英式女性</option>
                            <option value="bm_george.pt">標準英式男性</option>
                            <option value="af_nicole.pt">悄悄話美式女性</option>
                        </select>
                        <div class="scenario-hint">選擇您想聽的AI英語教師的口音和聲音</div>
                    </div>
                    
                    <button id="submit-button" class="btn primary-btn" disabled>手動送出</button>
                </div>

                <hr>

                <p>與AI老師對話，練習你的英語口語能力！</p>

                <div id="pronunciation-feedback" class="pronunciation-feedback"></div>
            </div>
        </div>
    </div>

    <!-- 自動播放音頻的容器 -->
    <div id="auto-play-container"></div>

    <!-- JavaScript 文件 -->
    <script src="js/api-service.js?v=1.0.3"></script>
    <script src="js/audio-handler.js?v=1.0.3"></script>
    <script src="js/app.js?v=1.0.3"></script>
</body>
</html>
